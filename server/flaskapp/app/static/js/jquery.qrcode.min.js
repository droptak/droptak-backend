(function(e){e.fn.qrcode=function(t){if(typeof t==="string"){t={text:t}}t=e.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:QRErrorCorrectLevel.H,background:"#ffffff",foreground:"#000000"},t);var n=function(){var e=new QRCode(t.typeNumber,t.correctLevel);e.addData(t.text);e.make();var n=document.createElement("canvas");n.width=t.width;n.height=t.height;var r=n.getContext("2d");var i=t.width/e.getModuleCount();var s=t.height/e.getModuleCount();for(var o=0;o<e.getModuleCount();o++){for(var u=0;u<e.getModuleCount();u++){r.fillStyle=e.isDark(o,u)?t.foreground:t.background;var a=Math.ceil((u+1)*i)-Math.floor(u*i);var f=Math.ceil((o+1)*i)-Math.floor(o*i);r.fillRect(Math.round(u*i),Math.round(o*s),a,f)}}return n};var r=function(){var n=new QRCode(t.typeNumber,t.correctLevel);n.addData(t.text);n.make();var r=e("<table></table>").css("width",t.width+"px").css("height",t.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",t.background);var i=t.width/n.getModuleCount();var s=t.height/n.getModuleCount();for(var o=0;o<n.getModuleCount();o++){var u=e("<tr></tr>").css("height",s+"px").appendTo(r);for(var a=0;a<n.getModuleCount();a++){e("<td></td>").css("width",i+"px").css("background-color",n.isDark(o,a)?t.foreground:t.background).appendTo(u)}}return r};return this.each(function(){var i=t.render=="canvas"?n():r();e(i).appendTo(this)})}})(jQuery)